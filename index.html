<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Synonym Mind Map Generator</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* --- YOUR DESIGN --- */
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    body {
      background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
      min-height: 100vh; padding: 20px; color: #f8f9fa;
      display: flex; justify-content: center; align-items: center;
    }
    .container {
      width: 100%; max-width: 1300px;
      background: rgba(15, 23, 42, 0.95);
      border-radius: 20px; box-shadow: 0 15px 50px rgba(0,0,0,0.5);
      overflow: hidden; position: relative; border: 1px solid rgba(94,234,212, 0.2);
    }
    .container::before {
      content: ""; position: absolute; top: 0; left: 0; right: 0; height: 5px;
      background: linear-gradient(90deg, #8bbbe6, #aad491, #fecb95, #edd47c, #e89699, #a8c2a7);
      border-radius: 20px 20px 0 0;
    }
    header { padding: 30px 40px 20px; text-align: center; background: rgba(15, 23, 42, 0.7); position: relative; z-index: 10; }
    h1 {
      font-size: 2.8rem; margin-bottom: 10px;
      background: linear-gradient(90deg, #5eead4, #38b2ac, #0ea5e9);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    .subtitle { font-size: 1.2rem; color: #94a3b8; max-width: 700px; margin: 0 auto; line-height: 1.6; }

    .input-area {
      padding: 25px 40px;
      background: rgba(15, 30, 60, 0.6);
      border-bottom: 1px solid rgba(94, 234, 212, 0.1);
    }
    .input-row { display: flex; gap: 15px; flex-wrap: wrap; justify-content: center; }
    .input-group { flex: 1; min-width: 300px; max-width: 600px; position: relative; }
    #wordInput {
      width: 100%; padding: 16px 25px; font-size: 1.2rem;
      border-radius: 15px; border: 2px solid #334155;
      background: rgba(30,41,59,0.8); color: #f1f5f9; outline: none;
      transition: all 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    #wordInput:focus { border-color: #5eead4; box-shadow: 0 0 0 4px rgba(94,234,212,.3);}
    #wordInput::placeholder { color: #64748b; }
    .btn {
      padding: 16px 40px; border: none; border-radius: 15px; font-size: 1.2rem; font-weight: 600;
      cursor: pointer; transition: all 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }
    #generateBtn { background: linear-gradient(to right, #0ea5e9, #0284c7); color: white; }
    #generateBtn:hover {
      background: linear-gradient(to right, #0284c7, #0369a1);
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(2,132,199,.4);
    }
    #generateBtn:active { transform: translateY(0);}
    #clearBtn { background: rgba(30,41,59,0.8); color: #94a3b8; border: 2px solid #334155; }
    #clearBtn:hover { background: rgba(51,65,85,0.8); border-color: #475569; color: #e2e8f0; }
    #mindMapArea {
      position: relative; width: 100%; min-height: 650px; overflow: hidden;
      display: flex; align-items: center; justify-content: center;
      background: radial-gradient(circle at center, rgba(15, 23, 42, 0.8), rgba(2, 6, 23, 0.9));
    }
    .empty-state { text-align: center; color: #64748b; padding: 40px; max-width: 700px; margin: 0 auto; z-index: 5; }
    .empty-state i { font-size: 5rem; margin-bottom: 25px; color: #334155; opacity: 0.5;}
    .empty-state h2 { font-size: 2.2rem; margin-bottom: 20px; color: #cbd5e1; font-weight: 600;}
    .empty-state p { font-size: 1.2rem; line-height: 1.7;}
    .loading { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 30px; padding: 60px; z-index: 5; }
    .spinner {
      width: 80px; height: 80px;
      border: 8px solid rgba(14,165,233,0.1);
      border-top: 8px solid #0ea5e9;
      border-radius: 50%; animation: spin 1.5s linear infinite;
    }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% {transform: rotate(360deg);} }
    .center-word {
      position: absolute; top: 50%; left: 50%;
      background: linear-gradient(135deg, #fde68a, #f59e0b); color: #422006;
      font-weight: 800; border-radius: 60px; box-shadow: 0 15px 40px rgba(245,158,11,0.4);
      font-size: 2.2rem; padding: 30px 60px;
      transform: translate(-50%, -50%);
      text-align: center; z-index: 20; transition: all 0.4s ease-out;
      animation: pulse 3s infinite;
    }
    @keyframes pulse {
      0% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 15px 40px rgba(245,158,11,0.4);}
      50% { transform: translate(-50%, -50%) scale(1.05); box-shadow: 0 20px 50px rgba(245,158,11,0.6);}
      100% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 15px 40px rgba(245,158,11,0.4);}
    }
    .synonym-node {
      position: absolute; width: 280px;
      background: linear-gradient(145deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.95));
      border-radius: 20px; box-shadow: 0 10px 35px rgba(0,0,0,0.3);
      padding: 25px; text-align: center; z-index: 15;
      transition: all 0.5s cubic-bezier(.175, .885, .32, 1.275);
      transform: scale(0); opacity: 0; cursor: pointer; border: 1px solid rgba(94,234,212,.15); backdrop-filter: blur(5px);
    }
    .synonym-node.visible { transform: scale(1); opacity: 1;}
    .synonym-node:hover {
      transform: scale(1.08) !important; box-shadow: 0 15px 45px rgba(0,0,0,0.5);
      z-index: 30; border-color: rgba(94,234,212,0.4);
    }
    .synonym-label {
      display: block; font-weight: 700; border-radius: 15px;
      padding: 12px 25px; margin-bottom: 20px; font-size: 1.4rem; color: white;
      transition: all 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    .synonym-node:hover .synonym-label { transform: translateY(-5px);}
    .example {
      font-size: 1.05rem; margin-top: 15px; color: #cbd5e1; padding: 15px; border-radius: 12px;
      background: rgba(15, 23, 42, 0.5); line-height: 1.6; transition: all 0.3s; text-align: left;
      border-left: 3px solid #0ea5e9;
    }
    .synonym-node:hover .example { background: rgba(30,41,59,0.7); border-left-color: #5eead4; }
    .example strong { color: #5eead4; font-weight: 600;}
    .example em { color: #fde68a; font-style: italic; font-weight: 500;}
    svg {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none; z-index: 10;
    }
    .instructions {
      background: rgba(30,41,59,0.7); border-radius: 16px; padding: 28px 40px;
      margin: 30px 40px; border-left: 5px solid #0ea5e9;
    }
    .instructions h3 { color: #5eead4; margin-bottom: 20px; display: flex; align-items: center; gap: 15px; font-size: 1.5rem;}
    .instructions ul {
      padding-left: 30px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 15px;
    }
    .instructions li {
      margin-bottom: 15px; line-height: 1.7; font-size: 1.1rem; color: #e2e8f0;
      padding: 10px 15px; background: rgba(15,23,42,0.4); border-radius: 10px;
    }
    .instructions li strong { color: #fde68a; }
    .error-message {
      text-align: center; padding: 50px 40px; color: #fecaca; z-index: 5;
    }
    .error-message i { font-size: 4rem; margin-bottom: 25px; color: #f87171; }
    .error-message h2 { font-size: 1.8rem; margin-bottom: 15px; line-height: 1.4; color: #fecaca;}
    .error-message p { font-size: 1.1rem; max-width: 600px; margin: 0 auto; line-height: 1.6; color: #94a3b8;}
    footer {
      text-align: center; padding: 25px; color: #64748b; font-size: 1.05rem;
      border-top: 1px solid rgba(94,234,212,0.1); background: rgba(15,23,42,0.7);
    }
    .particles { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
    .particle {
      position: absolute; border-radius: 50%; background: rgba(94,234,212,0.15);
      animation: float 15s infinite linear;
    }
    @keyframes float {
      0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0;}
      10% { opacity: 1;}
      90% { opacity: 0.5;}
      100% { transform: translateY(-1000px) translateX(1000px) rotate(720deg); opacity: 0;}
    }
    /* Responsive omitted for brevity, as per your source */
    @media (max-width:1100px) {
      .container { max-width: 95%; }
      h1 { font-size: 2.4rem; }
      .center-word { font-size: 1.8rem; padding: 25px 50px; }
      .synonym-node { width: 240px; }
    }
    @media (max-width: 768px) {
      body { padding: 10px; }
      .container { border-radius: 15px; }
      header { padding: 25px 20px 15px; }
      h1 { font-size: 2rem;}
      .subtitle { font-size: 1.05rem; }
      .input-area { padding: 20px;}
      .input-group { min-width: 100%;}
      .btn { width: 100%; padding: 16px;}
      #mindMapArea { min-height: 550px;}
      .center-word { font-size: 1.5rem; padding: 20px 40px;}
      .synonym-node { width: 220px; padding: 20px;}
      .synonym-label { font-size: 1.2rem; padding: 10px 20px;}
      .instructions { margin: 20px; padding: 20px;}
      .instructions ul { grid-template-columns: 1fr;}
    }
    @media (max-width: 480px) {
      h1 { font-size: 1.7rem;}
      .center-word { font-size: 1.3rem; padding: 16px 30px;}
      #mindMapArea { min-height: 500px;}
      .synonym-node { width: 90%; max-width: 280px;}
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="particles" id="particles"></div>
    <header>
      <h1><i class="fas fa-network-wired"></i> Synonym Mind Map Generator</h1>
      <p class="subtitle">Discover word relationships with our advanced visualization</p>
    </header>
    <div class="input-area">
      <div class="input-row">
        <div class="input-group">
          <input type="text" id="wordInput" placeholder="Enter a word (e.g., 'courage', 'beautiful')" maxlength="32" autofocus>
        </div>
        <button id="generateBtn"><i class="fas fa-sync-alt"></i> GENERATE</button>
        <button id="clearBtn"><i class="fas fa-eraser"></i> CLEAR</button>
      </div>
    </div>
    <div id="mindMapArea">
      <div class="empty-state">
        <i class="fas fa-project-diagram"></i>
        <h2>Word Relationship Visualizer</h2>
        <p>Enter any English word to generate a mind map of its synonyms with contextual examples</p>
      </div>
    </div>
    <div class="instructions">
      <h3><i class="fas fa-lightbulb"></i> How to Use</h3>
      <ul>
        <li><strong>Enter a word</strong> - Type any English word in the input field</li>
        <li><strong>Generate</strong> - Click the blue button to create your mind map</li>
        <li><strong>Explore</strong> - Hover over nodes to see contextual examples</li>
        <li><strong>Clear</strong> - Reset to start with a new word</li>
      </ul>
    </div>
    <footer>
      <p>Synonym Mind Map Generator &copy; 2023 | Fixed and Enhanced</p>
    </footer>
  </div>
  <script>
    const colorList = [
      '#0ea5e9', '#8b5cf6', '#ec4899', '#10b981',
      '#f59e0b', '#ef4444', '#06b6d4', '#f97316',
      '#a855f7', '#3b82f6', '#22c55e', '#eab308'
    ];
    // Real-world contextual examples for academic feel
    const exampleTemplates = [
      'The research emphasized the <strong>{syn}</strong> of these findings.',
      'Her artistic <strong>{syn}</strong> was visible in every brushstroke.',
      "The team's <strong>{syn}</strong> was critical for project success.",
      "This approach demonstrates remarkable <strong>{syn}</strong> in practice.",
      'The economic <strong>{syn}</strong> of the region is growing stronger.',
      'His scientific <strong>{syn}</strong> led to breakthrough discoveries.',
      'The political <strong>{syn}</strong> underpinned the reform.',
      'Cultural <strong>{syn}</strong> drives societal transformation.',
      'Technological <strong>{syn}</strong> requires creative solutions.',
      'Environmental <strong>{syn}</strong> needs urgent attention.',
      'The architectural <strong>{syn}</strong> of the structure was impressive.',
      'Psychological <strong>{syn}</strong> helps understand human behavior.'
    ];
    const wordInput = document.getElementById('wordInput');
    const generateBtn = document.getElementById('generateBtn');
    const clearBtn = document.getElementById('clearBtn');
    const mindMapArea = document.getElementById('mindMapArea');
    const particlesContainer = document.getElementById('particles');
    const wordCache = new Map();
    let isFetching = false;

    function createParticles() {
      const particleCount = 50;
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        const size = Math.random() * 20 + 5;
        const posX = Math.random() * 100;
        const posY = Math.random() * 100;
        const animationDelay = Math.random() * 15;
        const hue = Math.floor(Math.random() * 360);
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        particle.style.left = `${posX}%`;
        particle.style.top = `${posY}%`;
        particle.style.background = `hsla(${hue}, 70%, 60%, 0.1)`;
        particle.style.animationDelay = `${animationDelay}s`;
        particle.style.setProperty('--hue', hue);
        particlesContainer.appendChild(particle);
      }
    }
    function setupEventListeners() {
      generateBtn.addEventListener('click', generateMindMap);
      clearBtn.addEventListener('click', clearMindMap);
      wordInput.addEventListener('keyup', (e) => {
        if (e.key === 'Enter') generateMindMap();
      });
    }
    async function generateMindMap() {
      const word = wordInput.value.trim().toLowerCase();
      if (!word) { showError('Please enter a word to generate a mind map'); return; }
      if (!/^[a-zA-Z]+$/.test(word)) {
        showError('Please enter a valid English word (letters only)'); return;
      }
      if (isFetching) return;
      isFetching = true;
      mindMapArea.innerHTML = `
        <div class="loading">
          <div class="spinner"></div>
          <h2>Creating Mind Map for "${word}"</h2>
          <p>Discovering relationships and gathering examples...</p>
        </div>
      `;
      try {
        let synonyms;
        if (wordCache.has(word)) {
          synonyms = wordCache.get(word);
        } else {
          synonyms = await fetchSynonyms(word);
          // Fallback: if no synonyms, try related-meaning words
          if (!synonyms || synonyms.length === 0) {
            // Try related words
            synonyms = await fetchRelatedWords(word);
          }
          synonyms = (synonyms || []).filter((w,i,a) =>
            w.word && i === a.findIndex(({word:b}) => b.toLowerCase() === w.word.toLowerCase())
          ).slice(0,12);
          wordCache.set(word, synonyms);
        }
        if (!synonyms || synonyms.length === 0) {
          showError(`No synonyms found for "<b>${word}</b>". Try a different word.`);
          return;
        }
        drawMindMap(word, synonyms);
      } catch (error) {
        showError('Failed to fetch synonyms. Please check your connection and try again.');
      } finally { isFetching = false; }
    }
    async function fetchSynonyms(word) {
      try {
        const response = await fetch(`https://api.datamuse.com/words?rel_syn=${encodeURIComponent(word)}`);
        if (!response.ok) throw new Error(`API request failed`);
        return await response.json();
      } catch (error) { return []; }
    }
    async function fetchRelatedWords(word) {
      try {
        const response = await fetch(`https://api.datamuse.com/words?ml=${encodeURIComponent(word)}`);
        if (!response.ok) throw new Error();
        return await response.json();
      } catch(e) { return []; }
    }
    function drawMindMap(mainWord, synonyms) {
      mindMapArea.innerHTML = '';
      const w = mindMapArea.offsetWidth;
      const h = Math.max(650, mindMapArea.offsetHeight);
      // Center node
      const center = document.createElement('div');
      center.className = 'center-word';
      center.innerText = mainWord;
      center.style.left = '50%';
      center.style.top = '50%';
      mindMapArea.appendChild(center);
      // Synonym nodes: spaced widely
      const baseRadius = Math.min(w, h) / 2.25;
      const cx = w / 2; const cy = h / 2;
      const angleStep = (2 * Math.PI) / synonyms.length;
      const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
      svg.setAttribute('width', w);
      svg.setAttribute('height', h);
      mindMapArea.appendChild(svg);
      for (let i = 0; i < synonyms.length; i++) {
        const synonym = synonyms[i].word;
        const theta = -Math.PI/2 + i * angleStep;
        const randOffset = 1.02 + (Math.random()-0.5)*0.12;
        const x = cx + Math.cos(theta) * (baseRadius * randOffset);
        const y = cy + Math.sin(theta) * (baseRadius * randOffset);
        // SVG line
        const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
        line.setAttribute('x1', cx); line.setAttribute('y1', cy);
        line.setAttribute('x2', x); line.setAttribute('y2', y);
        line.setAttribute('stroke', '#475569'); line.setAttribute('stroke-width', '3');
        svg.appendChild(line);
        // Node container
        const node = document.createElement('div');
        node.className = 'synonym-node';
        node.style.left = `${x}px`; node.style.top = `${y}px`;
        node.style.transform = 'translate(-50%, -50%)';
        node.style.zIndex = '10';
        // Label
        const label = document.createElement('span');
        label.className = 'synonym-label';
        label.style.background = colorList[i % colorList.length];
        label.innerText = synonym;
        node.appendChild(label);
        // Example
        const ex = document.createElement('div');
        ex.className = 'example';
        const template = exampleTemplates[i % exampleTemplates.length];
        ex.innerHTML = template.replace(/{syn}/g, `<strong>${synonym}</strong>`)
                               .replace(/{word}/g, `<em>${mainWord}</em>`);
        node.appendChild(ex);
        mindMapArea.appendChild(node);
        setTimeout(() => { node.classList.add('visible'); }, 100 + i*100);
      }
    }
    function showError(message) {
      mindMapArea.innerHTML = `
        <div class="error-message">
          <i class="fas fa-exclamation-triangle"></i>
          <h2>${message}</h2>
          <p>Try words like "courage", "beautiful", or "strong"</p>
        </div>
      `;
    }
    function clearMindMap() {
      wordInput.value = ''; wordInput.focus();
      mindMapArea.innerHTML = `
        <div class="empty-state">
          <i class="fas fa-project-diagram"></i>
          <h2>Word Relationship Visualizer</h2>
          <p>Enter any English word to generate a mind map of its synonyms with contextual examples</p>
        </div>
      `;
    }
    createParticles();
    setupEventListeners();
  </script>
</body>
</html>
